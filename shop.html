<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Boutique â€“ Disensor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>ðŸ›’ Boutique</h1>
    <p>Commandez vos fichiers 3D, guides ou modÃ¨les CAO personnalisÃ©s</p>
  </header>

  <section class="filters">
    <label for="typeFilter">Filtrer par type :</label>
    <select id="typeFilter">
      <option value="all">Tous</option>
      <option value="STL">STL</option>
      <option value="STEP">STEP</option>
      <option value="PDF">PDF</option>
    </select>
  </section>

  <section class="products" id="productList">
    <!-- Produits chargÃ©s dynamiquement -->
  </section>

  <footer>
    <p>Â© Disensor â€“ CrÃ©ations techniques par Luan</p>
  </footer>

  <script>
    async function loadProducts() {
      const response = await fetch('data/products.json');
      const products = await response.json();
      const productList = document.getElementById('productList');

      function renderProducts(filteredProducts) {
        productList.innerHTML = '';
        filteredProducts.forEach(product => {
          productList.innerHTML += `
            <div class="product-card">
              <img src="${product.image}" alt="${product.name}">
              <h3>${product.name}</h3>
              <p>${product.description}</p>
              <p><strong>RÃ©f : ${product.ref}</strong></p>
              <p>ðŸ’¾ Type : ${product.type}</p>
              <p>ðŸ’° ${product.price}</p>
              <a href="${product.link}" class="order-button">Commander</a>
            </div>
          `;
        });
      }

      document.getElementById('typeFilter').addEventListener('change', (e) => {
        const value = e.target.value;
        if (value === 'all') renderProducts(products);
        else renderProducts(products.filter(p => p.type === value));
      });

      renderProducts(products); // initial render
    }

    loadProducts();
  </script>
</body>
</html>
